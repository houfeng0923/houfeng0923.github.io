# perf



## some

### react:ä¸æ˜¯å¿«ï¼Œè€Œæ˜¯ä¸ºä»€ä¹ˆä¸æ…¢

- render vdom + diff > render template ; but minifiy dom operation.

#### dom operation  ä¸ºä»€ä¹ˆæ…¢ï¼Ÿ

- dom å¯¹è±¡å±äºé‡å‹å¯¹è±¡ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼‰ï¼šç»§æ‰¿é“¾æ·±ï¼ˆ6 7 å±‚ï¼‰ï¼Œå±æ€§å¤šï¼ˆ70+ï¼‰ï¼Œè®¿é—®å±æ€§è¿½æº¯åŸå‹é“¾è€—æ—¶ã€‚
- dom æ“ä½œå¯¹äº js å®é™…ä¸Šæ˜¯å¤–éƒ¨å‡½æ•°è°ƒç”¨ã€‚dom æ“ä½œè€—æ—¶åœ¨ï¼šå»ºç«‹ä¸Šä¸‹æ–‡ï¼Œå±‚å±‚æ£€æŸ¥ã€‚ï¼ˆæ”¹å˜ DOM ç»“æ„çš„è°ƒç”¨éƒ½æœ‰æå…¶é«˜çš„ API Overhead.ï¼‰ æŠŠ DOM å’Œ JavaScript å„è‡ªæƒ³è±¡æˆä¸€ä¸ªå²›å±¿ï¼Œå®ƒä»¬ä¹‹é—´ç”¨æ”¶è´¹æ¡¥æ¢è¿æ¥ã€‚
- dom æ“ä½œä¼šè§¦å‘æµè§ˆå™¨ reflow/repaint

> æµè§ˆå™¨é€šå¸¸ä¼šæŠŠjså’ŒDOMåˆ†å¼€æ¥åˆ†åˆ«ç‹¬ç«‹å®ç°ã€‚
> ä¸¾ä¸ªæ —å­å†·çŸ¥è¯†ï¼Œåœ¨IEä¸­ï¼Œjsçš„å®ç°åä¸ºJScriptï¼Œä½äºjscript.dllæ–‡ä»¶ä¸­ï¼›DOMçš„å®ç°åˆ™å­˜åœ¨å¦ä¸€ä¸ªåº“ä¸­ï¼Œåä¸ºmshtml.dllï¼ˆTridentï¼‰ã€‚
> Chromeä¸­çš„DOMå®ç°ä¸ºwebkitä¸­çš„webCoreï¼Œä½†jså¼•æ“æ˜¯Googleè‡ªå·±ç ”å‘çš„V8ã€‚
> Firefoxä¸­çš„jså¼•æ“æ˜¯SpiderMonkeyï¼Œæ¸²æŸ“å¼•æ“ï¼ˆDOMï¼‰åˆ™æ˜¯Geckoã€‚


å¯¹äº overhead é«˜çš„ apiï¼Œæ ‡å‡†è§£å†³æ–¹æ¡ˆğŸˆ¶ä¸¤ä¸ªï¼š

- Batching && diff

- [ä¸ºä»€ä¹ˆè¯´DOMæ“ä½œå¾ˆæ…¢](https://leozdgao.me/why-dom-slow/)
- [æ¡†æ¶ä¸åŸç”Ÿdomæ“ä½œæ€§èƒ½æ¯”è¾ƒï¼ˆæœ‰è¯¯ã€‚å¤šç‰ˆæœ¬æ¯”è¾ƒï¼Œrawè¿˜æ˜¯ç†è®ºä¸Šæœ€å¿«çš„ï¼‰](http://chrisharrington.github.io/demos/performance/)
- []()
- [çŸ¥ä¹ï¼šç½‘ä¸Šéƒ½è¯´æ“ä½œçœŸå® DOM æ…¢ï¼Œä½†æµ‹è¯•ç»“æœå´æ¯” React æ›´å¿«ï¼Œä¸ºä»€ä¹ˆ(ç²¾)](https://www.zhihu.com/question/31809713)

	-
	- vdomå’Œdomæ¯”è¾ƒ ï¼ˆReact.js å’Œä½ çš„ç®—æ³•æœ€åéƒ½æ˜¯æŠŠç‰¹å®šçš„æ„å›¾ç¿»è¯‘æˆä¸€ç»„DOMæ“ä½œï¼Œå·®åˆ«åªæ˜¯è°çš„ç¿»è¯‘æ›´åŠ ä¼˜åŒ–è€Œå·²ï¼‰


å¾ˆå¤šåˆå­¦è€…ä¼šè¢«æ¡†æ¶ç»‘æ¶ä¸€ç§è®¤çŸ¥ï¼šé”™è¯¯çš„è®¤ä¸ºæ¡†æ¶è¿è¡Œåœ°æ›´å¿«ã€‚å…¶å®æ¡†æ¶æ˜¯æ€§èƒ½å’Œç»´æŠ¤æ€§çš„å–èˆäº§ç‰©ï¼Œæ›´å¤šçš„æ˜¯ä»äººå’Œå›¢é˜Ÿçš„è§’åº¦å¹³è¡¡åä½œã€æ•ˆç‡å’Œè´¨é‡ã€‚è¿™å°±å†³å®šäº†æ¡†æ¶ä¸å¯èƒ½åšåˆ°å„ä¸ªåœºæ™¯ä¸‹æ€§èƒ½æœ€ä¼˜ï¼Œå®ƒæä¾›çš„å®é™…åº”ç”¨å¤§å¤šæ•°åœºæ™¯ä¸‹çš„æ€§èƒ½è¾ƒä¼˜æ–¹æ¡ˆã€‚å½“ç„¶ä½ å¯ä»¥æ‰‹åŠ¨ç»´æŠ¤ dom å¹¶æŒç»­ä¼˜åŒ–ï¼Œå¯ä»¥åœ¨ç‰¹å®šåœºæ™¯ä¸‹è¶…è¶Šæ¡†æ¶çš„æ€§èƒ½ï¼Œä½†æˆæœä¸å…·å¤‡é€‚æ™®æ€§ã€‚


## v8


## chrome dev tool


## å·¥å…·

> æ²¡æœ‰æ•°æ®ä½œä¸ºæ”¯æŒï¼Œä¸€åˆ‡æ„è§éƒ½å°†æ¯«æ— æ„ä¹‰ã€‚â€” W. Edwards Deming

å®éªŒå®¤å·¥å…·

- [Lighthouse]()


ç°åœºå·¥å…·

- WebPageTest
- Test My Site
- PageSpeed Insights


### refs

- [**å¦‚ä½•å°†Webä¸»é¡µæ€§èƒ½æå‡åå€ä»¥ä¸Š**](https://www.infoq.cn/article/Xxyy8WZrWLwUlIF0*IxR?utm_source=related_read&utm_medium=article)





## references


- [ä¸ºä½•æµè§ˆå™¨æ§åˆ¶å°çš„JavaScriptå¼•æ“æ€§èƒ½è¿™ä¹ˆå·®ï¼Ÿ](https://www.zhihu.com/question/29352114/answer/44050599)
- [ç²¾è¯»ã€ŠJavaScript å¼€é”€ã€‹](https://zhuanlan.zhihu.com/p/33761893)
- [react perf](./react.md)
- [js perf](../js/perf.md)
